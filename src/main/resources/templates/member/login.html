<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Login - NiceShop Bootstrap Template</title>
  <meta name="description" content="">
  <meta name="keywords" content="">

  <th:block th:replace="~{fragments/file_link :: linkInfo}"></th:block>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>

<body class="login-page">

<div th:replace="~{fragments/common_header :: commonHeader}"></div>

  <main class="main">

    <!-- Page Title -->
    <div class="page-title light-background">
      <div class="container d-lg-flex justify-content-between align-items-center">
        <h1 class="mb-2 mb-lg-0">Login</h1>
        <nav class="breadcrumbs">
          <ol>
            <li><a href="../index.html">Home</a></li>
            <li class="current">Login</li>
          </ol>
        </nav>
      </div>
    </div><!-- End Page Title -->

    <!-- Login Section -->
    <section id="login" class="login section">

      <div class="container" data-aos="fade-up" data-aos-delay="100">

        <div class="row justify-content-center">
          <div class="col-lg-8 col-md-10">
            <div class="auth-container" data-aos="fade-in" data-aos-delay="200">

              <!-- Login Form -->
              <div class="auth-form login-form active">
                <div class="form-header">
                  <h3>로그인</h3>
                  <p>별이삼샵에 오신 것을 환영합니다.</p>
                </div>

                <form action="/members/login" method="POST" class="auth-form-content">
                  <div class="input-group mb-3">
                    <span class="input-icon">
                      <i class="bi bi-envelope"></i>
                    </span>
                    <input type="text" name="loginId" class="form-control" placeholder="아이디" required="" autocomplete="memberId">
                  </div>

                  <div class="input-group mb-3">
                    <span class="input-icon">
                      <i class="bi bi-lock"></i>
                    </span>
                    <input type="password" name="loginPassword" id="loginPassword" class="form-control" placeholder="비밀번호" required="" autocomplete="current-password">
                    <span class="password-toggle" id="passwordToggle" style="cursor: pointer;">
                      <i class="bi bi-eye"></i>
                    </span>
                  </div>

                  <input type="hidden" th:if="${bookId != null}" name="bookId" th:value="${bookId}" />
                  <input type="hidden" th:if="${quantity != null}" name="quantity" th:value="${quantity}" />

                  <button type="submit" class="auth-btn primary-btn mb-3">
                    로그인
                    <i class="bi bi-arrow-right"></i>
                  </button>

                  <a th:if="${bookId != null and quantity != null}"
                     th:href="@{/orders/nonmember/direct(bookId=${bookId}, quantity=${quantity})}"
                     class="auth-btn social-btn mb-3 w-100"
                     role="button">
                    비회원 주문
                  </a>

                  <div class="divider">
                    <span>or</span>
                  </div>

                  <button type="button" class="auth-btn social-btn">
                    페이코로 로그인
                  </button>

                  <div class="switch-form">
                    <span>계정이 없으신가요?</span>
                    <a href="/members/register">회원가입</a>
                  </div>
                </form>
              </div>

            </div>
          </div>
        </div>

      </div>

    </section><!-- /Login Section -->

  </main>

<div th:replace="~{fragments/common_footer :: commonFooter}"></div>

  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
  <div id="preloader"></div>

<!-- Vendor JS Files -->
<script th:src="@{/assets/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>
<script th:src="@{/assets/vendor/swiper/swiper-bundle.min.js}"></script>
<script th:src="@{/assets/vendor/aos/aos.js}"></script>
<script th:src="@{/assets/vendor/glightbox/js/glightbox.min.js}"></script>
<script th:src="@{/assets/vendor/drift-zoom/Drift.min.js}"></script>
<script th:src="@{/assets/vendor/purecounter/purecounter_vanilla.js}"></script>
<script th:src="@{/assets/js/main.js}"></script>

<script>
  $(document).ready(() => {
    const $passwordInput = $('#loginPassword');
    const $passwordToggle = $('#passwordToggle');
    const $passwordIcon = $passwordToggle.find('i');
    
    if ($passwordToggle.length && $passwordInput.length) {
      $passwordToggle.on('click', () => {
        if ($passwordInput.attr('type') === 'password') {
          $passwordInput.attr('type', 'text');
          $passwordIcon.removeClass('bi-eye').addClass('bi-eye-slash');
        } else {
          $passwordInput.attr('type', 'password');
          $passwordIcon.removeClass('bi-eye-slash').addClass('bi-eye');
        }
      });
    }
  });
</script>

</body>

</html>